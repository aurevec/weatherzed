function WeatherCtrl(t,e,r){t.panel=0,t.search=function(){var r="http://api.openweathermap.org/data/2.5/forecast/daily?q="+t.city+"&mode=json&units=metric&cnt=10";t.loader=!0,e.get(r).success(httpSuccess).error(httpError)},t.expand=function(t){$elem=$(t.currentTarget),$elem.addClass("row_active").siblings().removeClass("row_active")},t.geolocate=function(){r.getCurrentPosition(function(r){t.loader=!0,e.get("http://api.openweathermap.org/data/2.5/forecast/daily?lat="+r.coords.latitude+"&lon="+r.coords.longitude+"&mode=json&units=metric&cnt=10").success(httpSuccess).error(httpError)},function(){alert("Impossible de récupérer votre position")})},httpSuccess=function(e){t.loader=!1,t.panel=1,t.weather=e},httpError=function(){t.loader=!1,alert("Impossible de récupérer les informations")},t.Math=Math}